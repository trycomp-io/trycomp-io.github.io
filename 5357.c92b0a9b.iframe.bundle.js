"use strict";(self.webpackChunkcomp_app=self.webpackChunkcomp_app||[]).push([[5357],{"./components/design-system/TextField.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{nv:()=>TextField});var _Users_takamura_repos_comp_comp_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),_Users_takamura_repos_comp_comp_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-P74GIWPW.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@chakra-ui/layout/dist/chunk-MPFPK3CX.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@chakra-ui/textarea/dist/chunk-OEQDSMWZ.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@chakra-ui/input/dist/chunk-GYFRIY2Z.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@chakra-ui/icon/dist/chunk-DKFDJSXF.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@chakra-ui/popover/dist/chunk-4OGHDZEB.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@chakra-ui/popover/dist/chunk-3O5UWOX6.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@chakra-ui/portal/dist/chunk-YLCZP3C4.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@chakra-ui/popover/dist/chunk-KVBLLJMP.mjs"),_chakra_ui_react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/@chakra-ui/popover/dist/chunk-3JH7ZFSI.mjs"),react_icons_md__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react-icons/md/index.esm.js"),_excluded=["children","dataTestId"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,TextFieldFootNote=function TextFieldFootNote(_ref3){var footNoteValue=_ref3.footNoteValue,footNoteMessage=_ref3.footNoteMessage,footNote="".concat(footNoteMessage," ").concat(footNoteValue);return __jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_1__.x,{fontSize:"comp-2xs",lineHeight:"3xs",color:"black.500",textAlign:"left",paddingLeft:".5rem",w:"full"},footNote)};TextFieldFootNote.displayName="TextFieldFootNote";var TextFieldError=function TextFieldError(_ref4){var errorMessage=_ref4.errorMessage;return __jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_1__.x,{fontSize:"comp-2xs",lineHeight:"3xs",color:"violet.1000",width:"100%",paddingX:"1rem"},errorMessage)};TextFieldError.displayName="TextFieldError";var TextFieldWrapper=function TextFieldWrapper(props){var _props$minWidth,_props$width,_props$gap,children=props.children,dataTestId=props.dataTestId,flexProps=(0,_Users_takamura_repos_comp_comp_app_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_2__.Z)(props,_excluded);return flexProps.minWidth=null!==(_props$minWidth=props.minWidth)&&void 0!==_props$minWidth?_props$minWidth:"full",flexProps.width=null!==(_props$width=props.width)&&void 0!==_props$width?_props$width:"full",flexProps.justifyContent="flex-start",flexProps.gap=null!==(_props$gap=props.gap)&&void 0!==_props$gap?_props$gap:"0.25rem",flexProps.flexDir="column",__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__.k,(0,_Users_takamura_repos_comp_comp_app_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_4__.Z)({"data-testid":dataTestId},flexProps),children)};TextFieldWrapper.displayName="TextFieldWrapper";var TextFieldContentsWrapper=function TextFieldContentsWrapper(_ref5){var children=_ref5.children,padding=_ref5.padding,tabIndex=_ref5.tabIndex,isFocusing=_ref5.isFocusing,error=_ref5.error,disabled=_ref5.disabled,onClick=_ref5.onClick,onBlur=_ref5.onBlur,onFocus=_ref5.onFocus;return __jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__.k,{tabIndex,padding,flexDir:"column",justifyContent:"center",border:"2px solid",borderColor:isFocusing?error?"violet.500":"black.500":"transparent",borderRadius:".5rem",bg:error?"violet.100":"black.50",_hover:{bg:error?"#C000761A":disabled?"black.50":"black.100"},cursor:disabled?"not-allowed":"pointer",onClick,onFocus,onBlur,margin:"0",width:"100%"},children)};TextFieldContentsWrapper.displayName="TextFieldContentsWrapper";var TextFieldExpandedContents=function TextFieldExpandedContents(_ref6){var _ref6$label=_ref6.label,label=void 0===_ref6$label?"":_ref6$label,children=_ref6.children,error=_ref6.error;return __jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_1__.x,{fontSize:"comp-2xs",lineHeight:"3xs",color:error?"violet.1000":"black.800"},label),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__.k,{w:"full",alignItems:"center",justifyContent:"flex-start",gap:".25rem"},children))},TextFieldUnexpandedContents=function TextFieldUnexpandedContents(_ref7){var _ref7$label=_ref7.label,label=void 0===_ref7$label?"":_ref7$label;return __jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_1__.x,{fontSize:"comp-xs",lineHeight:"2xs",color:"black.1000",fontWeight:"bold"},label)};TextFieldUnexpandedContents.displayName="TextFieldUnexpandedContents";var TextField=function TextField(_ref8){var _ref8$label=_ref8.label,label=void 0===_ref8$label?"":_ref8$label,_ref8$placeholder=_ref8.placeholder,placeholder=void 0===_ref8$placeholder?"":_ref8$placeholder,_ref8$text=_ref8.text,text=void 0===_ref8$text?"":_ref8$text,_ref8$type=_ref8.type,type=void 0===_ref8$type?"text":_ref8$type,postfixValue=_ref8.postfixValue,prefixValue=_ref8.prefixValue,prefixOptions=_ref8.prefixOptions,isPrefixPopoverLazy=_ref8.isPrefixPopoverLazy,prefixPopoverLazyBehavior=_ref8.prefixPopoverLazyBehavior,_ref8$error=_ref8.error,error=void 0!==_ref8$error&&_ref8$error,_ref8$tabIndex=_ref8.tabIndex,tabIndex=void 0===_ref8$tabIndex?0:_ref8$tabIndex,_ref8$errorMessage=_ref8.errorMessage,errorMessage=void 0===_ref8$errorMessage?"":_ref8$errorMessage,_ref8$footNoteMessage=_ref8.footNoteMessage,footNoteMessage=void 0===_ref8$footNoteMessage?"":_ref8$footNoteMessage,_ref8$footNoteValue=_ref8.footNoteValue,footNoteValue=void 0===_ref8$footNoteValue?"":_ref8$footNoteValue,_ref8$onClick=_ref8.onClick,onClick=void 0===_ref8$onClick?function(){return null}:_ref8$onClick,_ref8$onBlur=_ref8.onBlur,onBlur=void 0===_ref8$onBlur?function(){return null}:_ref8$onBlur,_ref8$onChange=_ref8.onChange,onChange=void 0===_ref8$onChange?function(){return null}:_ref8$onChange,_ref8$onKeyDown=_ref8.onKeyDown,onKeyDown=void 0===_ref8$onKeyDown?function(){return null}:_ref8$onKeyDown,onPrefixOptionChange=_ref8.onPrefixOptionChange,autoFocus=_ref8.autoFocus,_ref8$dataTestId=_ref8.dataTestId,dataTestId=void 0===_ref8$dataTestId?"TextField":_ref8$dataTestId,prefixStyles=_ref8.prefixStyles,minimalValue=_ref8.minimalValue,_ref8$isReadOnly=_ref8.isReadOnly,isReadOnly=void 0!==_ref8$isReadOnly&&_ref8$isReadOnly,inputWidth=_ref8.inputWidth,minWidth=_ref8.minWidth,_ref8$groupSeparator=_ref8.groupSeparator,groupSeparator=void 0===_ref8$groupSeparator?".":_ref8$groupSeparator,_ref8$size=_ref8.size,size=void 0===_ref8$size?"md":_ref8$size,_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),cursor=_useState[0],setCursor=_useState[1],_useState2=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null!=autoFocus&&autoFocus),focusing=_useState2[0],setFocusing=_useState2[1],_useState3=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null!=text?text:""),innerText=_useState3[0],setInnerText=_useState3[1],_useState4=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),lastKeyStroke=_useState4[0],setLastKeyStroke=_useState4[1],inputRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),disabled=isReadOnly,isExpanded=focusing||""!==text||disabled,handleSelectRange=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(customCursor){if("text"===type){var _inputRef$current,_inputRef$current$set,rangeValue=void 0!==customCursor?customCursor:cursor;null===(_inputRef$current=inputRef.current)||void 0===_inputRef$current||null===(_inputRef$current$set=_inputRef$current.setSelectionRange)||void 0===_inputRef$current$set||_inputRef$current$set.call(_inputRef$current,rangeValue,rangeValue)}}),[cursor,inputRef,type]);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){handleSelectRange()}),[innerText,handleSelectRange]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){handleSelectRange()}),[innerText,cursor,inputRef,handleSelectRange]);var handleFocus=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((function(){var _inputRef$current2;null===(_inputRef$current2=inputRef.current)||void 0===_inputRef$current2||_inputRef$current2.focus(),handleSelectRange()}),[handleSelectRange]);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){var _text$length,_innerText$length;if((null!==(_text$length=null==text?void 0:text.length)&&void 0!==_text$length?_text$length:0)>(null!==(_innerText$length=null==innerText?void 0:innerText.length)&&void 0!==_innerText$length?_innerText$length:0)){var lengthDiff=text.length-innerText.length,newCursor=cursor+lengthDiff;setCursor(newCursor),handleSelectRange(newCursor)}setInnerText(text)}),[text]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){focusing&&handleFocus()}),[focusing,handleFocus]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){cursor&&handleSelectRange()}),[cursor]);var handleClick=function handleClick(){setFocusing(!0),onClick(innerText)},handleBlur=function handleBlur(){setFocusing(!1),onBlur(innerText)},handleChange=function handleChange(e){var _e$target=e.target;!function processChange(value,selectionStart){var _repositionCursor=function repositionCursor(_ref){var selectionStart=_ref.selectionStart,value=_ref.value,lastKeyStroke=_ref.lastKeyStroke,stateValue=_ref.stateValue,groupSeparator=_ref.groupSeparator,cursorPosition=selectionStart,modifiedValue=value;if(void 0!==stateValue&&null!=cursorPosition){var splitValue=value.split("");return"Backspace"===lastKeyStroke&&stateValue[cursorPosition]===groupSeparator&&(splitValue.splice(cursorPosition-1,1),cursorPosition-=modifiedValue.length>2?2:0),"Delete"===lastKeyStroke&&stateValue[cursorPosition]===groupSeparator&&(splitValue.splice(cursorPosition,1),cursorPosition+=1),{modifiedValue:modifiedValue=splitValue.join(""),cursorPosition}}return{modifiedValue,cursorPosition:selectionStart}}({selectionStart,value,lastKeyStroke,stateValue:innerText,groupSeparator}),cursorPosition=_repositionCursor.cursorPosition,modifiedValue=_repositionCursor.modifiedValue;null!=cursorPosition&&setCursor(cursorPosition),setInnerText(null!=modifiedValue?modifiedValue:""),onChange(null!=modifiedValue?modifiedValue:"")}(_e$target.value,_e$target.selectionStart)},sizesMap=function getInputSizesMap(_ref2){var isExpanded=_ref2.isExpanded,prefixValue=_ref2.prefixValue,label=_ref2.label;return{xs:{padding:"0.4rem"},sm:{padding:"0.5rem"},md:{padding:isExpanded?void 0!==prefixValue&&""===label?"1rem":"0.5rem 1rem":"1rem"}}}({isExpanded,prefixValue,label});return __jsx(TextFieldWrapper,{dataTestId,minWidth},__jsx(TextFieldContentsWrapper,{tabIndex,padding:sizesMap[size].padding,isFocusing:focusing,error,disabled,onClick:void 0===prefixValue?handleClick:void 0,onFocus:void 0===prefixValue?handleClick:void 0,onBlur:handleBlur},isExpanded?__jsx(TextFieldExpandedContents,{label,error},void 0!==prefixValue&&__jsx(PrefixPopover,{prefixValue,prefixOptions,onPrefixChange:function onPrefixChange(option){return null==onPrefixOptionChange?void 0:onPrefixOptionChange(option)},prefixStyles,isLazy:isPrefixPopoverLazy,lazyBehavior:prefixPopoverLazyBehavior}),"textarea"===type?__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_5__.g,{"data-hj-allow":!0,"data-testid":"".concat(dataTestId,"-input"),isReadOnly,autoFocus,variant:"unstyled",placeholder,fontSize:"comp-xs",lineHeight:"2xs",fontWeight:"bold",height:"13.1875rem",resize:"none",onBlur:handleBlur,ref:inputRef,value:innerText,disabled,color:disabled?"black.500":"black.1000",onChange:handleChange,onClick:handleClick,_placeholder:{fontSize:"comp-xs",lineHeight:"2xs",fontWeight:"bold",opacity:1,color:disabled?"black.500":"black.1000"},width:inputWidth}):__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_6__.I,{"data-hj-allow":!0,"data-testid":"".concat(dataTestId,"-input"),isReadOnly,autoFocus,variant:"unstyled",placeholder,fontSize:"comp-xs",lineHeight:"2xs",fontWeight:"bold",onBlur:handleBlur,ref:inputRef,value:innerText,disabled,color:disabled?"black.500":"black.1000",type,onChange:handleChange,onClick:handleClick,onFocus:handleClick,onKeyDown:function handleKeyDown(event){var key=event.key;setLastKeyStroke(key),null==onKeyDown||onKeyDown(event)},min:"number"===type?minimalValue:void 0,_placeholder:{fontSize:"comp-xs",lineHeight:"2xs",fontWeight:"bold",opacity:1,color:disabled?"black.500":"black.1000"},width:inputWidth}),void 0!==postfixValue&&__jsx(PrefixPopover,{prefixValue:postfixValue,prefixOptions,onPrefixChange:function onPrefixChange(option){return null==onPrefixOptionChange?void 0:onPrefixOptionChange(option)},prefixStyles,isLazy:isPrefixPopoverLazy,lazyBehavior:prefixPopoverLazyBehavior,disabled})):__jsx(TextFieldUnexpandedContents,{label})),error&&errorMessage&&__jsx(TextFieldError,{errorMessage}),footNoteMessage&&footNoteValue&&__jsx(TextFieldFootNote,{footNoteValue,footNoteMessage}))};TextField.displayName="TextField";var PrefixText=(0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((function(_ref9,ref){var _prefixValue$short_na,_prefixStyles$hover,_prefixStyles$hover$b,_prefixStyles$hover2,_prefixStyles$bgColor,_prefixStyles$color,prefixValue=_ref9.prefixValue,prefixStyles=_ref9.prefixStyles,onClick=_ref9.onClick,_ref9$size=_ref9.size,size=void 0===_ref9$size?"md":_ref9$size,text=null!==(_prefixValue$short_na=prefixValue.short_name)&&void 0!==_prefixValue$short_na?_prefixValue$short_na:prefixValue.display_name,sizesMap={xs:{fontSize:"comp-2xs",lineHeight:"3xs"},sm:{fontSize:"comp-2xs",lineHeight:"3xs"},md:{fontSize:"comp-xs",lineHeight:"2xs"}};return __jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__.k,{ref,alignItems:"center",justifyContent:"space-between",_hover:{cursor:null==prefixStyles||null===(_prefixStyles$hover=prefixStyles.hover)||void 0===_prefixStyles$hover?void 0:_prefixStyles$hover.cursor,bgColor:null!==(_prefixStyles$hover$b=null==prefixStyles||null===(_prefixStyles$hover2=prefixStyles.hover)||void 0===_prefixStyles$hover2?void 0:_prefixStyles$hover2.bgColor)&&void 0!==_prefixStyles$hover$b?_prefixStyles$hover$b:"white"},fontSize:sizesMap[size].fontSize,lineHeight:sizesMap[size].lineHeight,bg:null!==(_prefixStyles$bgColor=null==prefixStyles?void 0:prefixStyles.bgColor)&&void 0!==_prefixStyles$bgColor?_prefixStyles$bgColor:"white",color:null!==(_prefixStyles$color=null==prefixStyles?void 0:prefixStyles.color)&&void 0!==_prefixStyles$color?_prefixStyles$color:"black.1000",fontWeight:"bold",p:"0 .25rem",gap:".25rem",borderRadius:"0.25rem",onClick},__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_1__.x,{as:"span",minWidth:"fit-content"},text," "),null!=prefixStyles&&prefixStyles.showDropdownIcon?__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_7__.J,{as:react_icons_md__WEBPACK_IMPORTED_MODULE_8__.gwH,w:"1.125rem",h:"1.125rem"}):null)}));function PrefixPopover(_ref10){var prefixValue=_ref10.prefixValue,prefixOptions=_ref10.prefixOptions,onPrefixChange=_ref10.onPrefixChange,prefixStyles=_ref10.prefixStyles,isLazy=_ref10.isLazy,lazyBehavior=_ref10.lazyBehavior,_ref10$disabled=_ref10.disabled,disabled=void 0!==_ref10$disabled&&_ref10$disabled,_useState5=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),popoverOpen=_useState5[0],setPopoverOpen=_useState5[1];return void 0===prefixStyles&&(prefixStyles={bgColor:"white",color:disabled?"black.500":"black.1000",hover:{bgColor:"white",cursor:"default"}}),void 0===prefixOptions?__jsx(PrefixText,{prefixValue,prefixStyles,onClick:function onClick(){return setPopoverOpen((function(prev){return!prev}))}}):__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_9__.J,{isOpen:popoverOpen,onClose:function onClose(){return setPopoverOpen(!1)},computePositionOnMount:!0,isLazy,lazyBehavior},__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_10__.x,null,__jsx(PrefixText,{prefixValue,prefixStyles,onClick:function onClick(){return setPopoverOpen((function(prev){return!prev}))}})),__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_11__.h,null,__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_12__.y,{w:"auto",p:"0",m:"0",zIndex:"popover"},__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_13__.b,{padding:"0"},null==prefixOptions?void 0:prefixOptions.map((function(option){return __jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_3__.k,{key:option.id,w:"full",p:"1",_hover:{bg:"black.100"},cursor:"pointer",onClick:function onClick(){return function handlePrefixChange(option){null==onPrefixChange||onPrefixChange(option),setPopoverOpen(!1)}(option)}},__jsx(_chakra_ui_react__WEBPACK_IMPORTED_MODULE_1__.x,{color:disabled?"black.500":"black.1000",fontWeight:"bold",p:"0 .25rem"}," ",option.display_name," "))}))))))}PrefixText.displayName="PrefixText",PrefixPopover.displayName="PrefixPopover";try{PrefixPopover.displayName="PrefixText",PrefixPopover.__docgenInfo={description:"",displayName:"PrefixText",props:{prefixValue:{defaultValue:null,description:"",name:"prefixValue",required:!0,type:{name:"TextFieldPrefixValueType"}},prefixOptions:{defaultValue:null,description:"",name:"prefixOptions",required:!1,type:{name:"TextFieldPrefixValueType[]"}},onPrefixChange:{defaultValue:null,description:"",name:"onPrefixChange",required:!0,type:{name:"((prefix: TextFieldPrefixValueType) => void) | undefined"}},prefixStyles:{defaultValue:null,description:"",name:"prefixStyles",required:!1,type:{name:"TextFieldPrefixStyles"}},isLazy:{defaultValue:null,description:"",name:"isLazy",required:!1,type:{name:"boolean"}},lazyBehavior:{defaultValue:null,description:"",name:"lazyBehavior",required:!0,type:{name:"enum",value:[{value:"undefined"},{value:'"unmount"'},{value:'"keepMounted"'}]}},disabled:{defaultValue:{value:"false"},description:"",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/design-system/TextField.tsx#PrefixText"]={docgenInfo:PrefixText.__docgenInfo,name:"PrefixText",path:"components/design-system/TextField.tsx#PrefixText"})}catch(__react_docgen_typescript_loader_error){}}}]);